////
2013-12 (mamund) : source for proposed cj-dom
////

= Collection+JSON Document Object Model =
:Author: Mike Amundsen
:Email: mca@amundsen.com

[NOTE]
====
This is an experimental document. Nothing is settled. Just ideas.
_"Nothing to see here, move along now."_ *=8^)*
====

== Summary ==

== Object Model ==

----
  // initialize object
  cj = new cjDOM.load(href|obj);
  cj.document // returns {collection:{...}}

  // root properties
  cj.document.href;
  cj.document.version;

  // top nodes
  cj.document.nodes; // returns [links:{},items:{},queries:{},template:{},error:{}]
  cj.document.node('links|items|queries|template|error'); // returns [] or {}
  cj.document.links(); // returns [...]
  cj.document.items(): // returns [...]
  cj.document.queries(); // returns [...]
  cj.document.error(); //returns {...}
  cj.document.template(); // returns {...}

  // links
  links = cj.document.links;
  links.count;
  links[0]; // returns link object
  l = links['profile']; // returns link object based on link.rel
  l.rel;
  l.href;
  l.prompt;
  l.properties; // returns array of properties
  l.properties[0]; // returns property value based in index
  l.properties['href']; // returns single property value based on name

  // items
  items = cj.document.items;
  items.count;
  items[0];
  i = items['http://...'];
  i.prompt;
  i.name;
  i.value;
  i.render;
  i.properties;
  i.properties[0];
  i.properties['render'];
  data = i.data; // returns array of data
  links = i.links; // returns array of links

  // queries
  queries = cj.document.queries;
  queries.count;
  queries[0];
  q = queries['avatar']; // based on rel property
  q.rel;
  q.prompt;
  q.href;
  data = q.data;
  
  // template
  t = cj.document.template;
  t.href;
  data = t.data;

  // error
  e = cj.document.error;
  e.title;
  e.code;
  e.message;
  e.properties;
  e.properties[0];
  e.properties['message']; 

  // data
  data = cj.document.queries[0].data;
  data.count;
  data[0];
  d = data['firstName']; // based on name property
  d.name;
  d.value;
  d.prompt;
  d.properties;
  d.properties[0];
  d.properties['name'];


----
